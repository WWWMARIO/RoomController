(this.webpackJsonpadria=this.webpackJsonpadria||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),o=a.n(r),i=a(1),c=a(2),s=a(4),u=a(3),d=a(5),m=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).displayAirQualityData=function(){return a.state.airQualityRijeka.measurements.map((function(e,t){return l.a.createElement("p",{style:{display:"inline-block",padding:"0 1em"}},e.parameter.toUpperCase()," : ",e.value,e.unit)}))},a.state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.openaq.org/v1/latest?&country=HR&location=HR0005A").then((function(e){return e.json()})).then((function(t){e.setState({airQualityRijeka:t.results[0]}),e.displayAirQualityData()})).catch(console.log)}},{key:"render",value:function(){return l.a.createElement("div",{className:"topbar"},"Air quality in Rijeka, latest measurements ",this.state.airQualityRijeka&&this.displayAirQualityData())}}]),t}(l.a.Component),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getNextHoliday=function(){for(var e=new Date,t=a.state.holidayListJsonThisYear,n=0;n<t.length;n++){if("National holiday"===t[n].type[0]||"Observance"===t[n].type[0])if(e<new Date(t[n].date.datetime.year,t[n].date.datetime.month-1,t[n].date.datetime.day)){a.setState({nextHoliday:t[n]});break}}var l=t[Number(t.length-1)],r=new Date(l.date.datetime.year,l.date.datetime.month-1,l.date.datetime.day),o=a.state.holidayListJsonNextYear;e>=r&&a.setState({nextHoliday:o[0]})},a.displayZoneList=function(){var e=a.props.rooms_status.controllers.map((function(e){return l.a.createElement("tr",{key:e.id,style:a.props.expandedRow===e.id?{background:"lightblue",borderStyle:"solid"}:{background:"white"}},l.a.createElement("td",{onClick:function(){return a.props.handleRowClick(e.id)}},e.zone))}));return e.unshift(l.a.createElement("tr",{key:"home"},l.a.createElement("td",{onClick:function(){return a.props.handleRowClick("home")}},"Home"))),l.a.createElement("table",null,e)},a.state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Date,a="623928f68a0b62c099313091850fad51b0c7f84e",n=t.getFullYear(),l=Number(t.getFullYear()+1);fetch("https://calendarific.com/api/v2/holidays?&api_key="+a+"&country=hr&year="+n).then((function(e){return e.json()})).then((function(t){e.setState({holidayListJsonThisYear:t.response.holidays}),e.getNextHoliday()})).catch(console.log),fetch("https://calendarific.com/api/v2/holidays?&api_key="+a+"&country=hr&year="+l).then((function(e){return e.json()})).then((function(t){e.setState({holidayListJsonNextYear:t.response.holidays}),e.getNextHoliday()})).catch(console.log)}},{key:"render",value:function(){return l.a.createElement("div",{className:"sidenav"},this.displayZoneList(),l.a.createElement("div",null,"The next Croatian holiday is :"),this.state.nextHoliday&&l.a.createElement("div",null,this.state.nextHoliday.name," ",this.state.nextHoliday.date.iso))}}]),t}(l.a.Component),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onClickGenerateQRCode=function(){var e="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data="+a.props.item.name;a.setState({qrUrl:e})},a.state={qrUrl:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("button",{onClick:this.onClickGenerateQRCode},"Generate QR Code"),l.a.createElement("br",null),""!==this.state.qrUrl?l.a.createElement("img",{src:this.state.qrUrl,alt:"qr kod replacement"}):"")}}]),t}(l.a.Component),E=function(e){var t=e.settings.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.Id),l.a.createElement("td",null,e.settingName),l.a.createElement("td",null,e.settingValue))}));return l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("strong",null,"Settings:"))),t)},y=function(e){return l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("strong",null,"Details:"))),l.a.createElement("tr",null,l.a.createElement("td",null,"id :"),l.a.createElement("td",null,e.id)),l.a.createElement("tr",null,l.a.createElement("td",null,"name:"),l.a.createElement("td",null,e.name)),l.a.createElement("tr",null,l.a.createElement("td",null,"address:"),l.a.createElement("td",null,e.address)),l.a.createElement("tr",null,l.a.createElement("td",null,"object:"),l.a.createElement("td",null,e.object)),l.a.createElement("tr",null,l.a.createElement("td",null,"subObject:"),l.a.createElement("td",null,e.subObject)),l.a.createElement("tr",null,l.a.createElement("td",null,"zone:"),l.a.createElement("td",null,e.zone)),l.a.createElement("tr",null,l.a.createElement("td",null,"subZone:"),l.a.createElement("td",null,e.subZone)),l.a.createElement("tr",null,l.a.createElement("td",null,"ipAddress:"),l.a.createElement("td",null,e.ipAddress)),l.a.createElement("tr",null,l.a.createElement("td",null,"ipPort:"),l.a.createElement("td",null,e.ipPort)),l.a.createElement("tr",null,l.a.createElement("td",null,"LocalCommandHeatingCooling:"),l.a.createElement("td",null,String(e.LocalCommandHeatingCooling))),l.a.createElement("tr",null,l.a.createElement("td",null,"LocalCommandPanelBlocked:"),l.a.createElement("td",null,String(e.LocalCommandPanelBlocked))))},f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeCurrentTempFromLocalStorage=function(e){var t=JSON.parse(localStorage.getItem("currentTemperatureLocal"));"+"===e.target.value&&(t[a.props.item.id]=Number(t[a.props.item.id])+1),"-"===e.target.value&&(t[a.props.item.id]=Number(t[a.props.item.id])-1),localStorage.setItem("currentTemperatureLocal",JSON.stringify(t)),a.setState({CurrentTempFromLocalStorage:t})},a.state={CurrentTempFromLocalStorage:JSON.parse(localStorage.getItem("currentTemperatureLocal"))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("strong",null,"Properties:"))),l.a.createElement("tr",null,l.a.createElement("td",null,"Set temperature:"),l.a.createElement("td",null,this.state.CurrentTempFromLocalStorage[this.props.item.id],l.a.createElement("button",{value:"+",onClick:this.changeCurrentTempFromLocalStorage},"+"),l.a.createElement("button",{value:"-",onClick:this.changeCurrentTempFromLocalStorage},"-"))),l.a.createElement("tr",null,l.a.createElement("td",null,"Current temperature:"),l.a.createElement("td",null,this.props.item.properties[8].Value)),l.a.createElement("tr",null,l.a.createElement("td",null,"1"===this.props.item.properties[24].Value?l.a.createElement("p",null,"DND"):l.a.createElement("p",null))),l.a.createElement("tr",null,l.a.createElement("td",null,"1"===this.props.item.properties[38].Value?l.a.createElement("p",null,"Occupied"):l.a.createElement("p",null)," ")))}}]),t}(l.a.Component),b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleClickDetailsOrSetting=function(){0===e.state.displayDetailsOrSetting?e.setState({displayDetailsOrSetting:1}):e.setState({displayDetailsOrSetting:0})},e.displayDetailsAndPropertiesOrSettings=function(t){return 0===e.state.displayDetailsOrSetting?l.a.createElement("tr",{key:"row-expanded-"+t.id},l.a.createElement("td",{colSpan:3},l.a.createElement("div",{style:{float:"left",marginRight:"100px"}},y(t)),l.a.createElement("div",{style:{float:"left"}},l.a.createElement(f,{item:t})))):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},l.a.createElement("div",{style:{float:"left",marginRight:"100px"}},E(t)),l.a.createElement("div",{style:{float:"left"}},l.a.createElement(h,{item:t}))))},e.state={displayDetailsOrSetting:0},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(null===JSON.parse(localStorage.getItem("currentTemperatureLocal"))){var e={};this.props.rooms_status.controllers.forEach((function(t){var a=t.id,n=t.properties[7].Value;e[a]=n})),localStorage.setItem("currentTemperatureLocal",JSON.stringify(e))}}},{key:"renderItem",value:function(e){var t=this,a=[l.a.createElement("tr",{id:"row-"+e.id,key:"row-data-"+e.id,style:{backgroundColor:"lightblue"}},l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return t.props.handleRowClick(e.id)}},e.zone)),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.address,this.props.expandedRow===e.id?l.a.createElement("button",{onClick:function(){t.handleClickDetailsOrSetting()}},0===this.state.displayDetailsOrSetting?"Settings":"Details"):""))];return this.props.expandedRow===e.id&&a.push(this.displayDetailsAndPropertiesOrSettings(e)),a}},{key:"render",value:function(){var e=this,t=[];return this.props.rooms_status.controllers.forEach((function(a){var n=e.renderItem(a);t=t.concat(n)})),l.a.createElement("table",{className:"main"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{style:{width:"33.33%"}},"Zone"),l.a.createElement("td",{style:{width:"33.33%"}},"Name"),l.a.createElement("td",{style:{width:"33.33%"}},"Address"))),l.a.createElement("tbody",null,t))}}]),t}(l.a.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleRowClick=function(e){"home"===e&&(a.setState({expandedRow:""}),window.scrollTo(0,0)),e!==a.state.expandedRow?a.setState({expandedRow:e},(function(){if("home"!==e){document.getElementById("row-"+e).scrollIntoView(!0);var t=window.scrollY;t&&window.scroll(0,t-80)}})):a.setState({expandedRow:""}),a.setState({displayDetailsOrSetting:0})},a.state={expandedRow:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ae.hr/rooms_status.php").then((function(e){return e.json()})).then((function(t){e.setState({rooms_status:t})})).catch(console.log)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(m,null),this.state.rooms_status?l.a.createElement(p,{expandedRow:this.state.expandedRow,rooms_status:this.state.rooms_status,handleRowClick:this.handleRowClick}):null,this.state.rooms_status?l.a.createElement(b,{rooms_status:this.state.rooms_status,handleRowClick:this.handleRowClick,expandedRow:this.state.expandedRow}):null)}}]),t}(l.a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(g,null)}}]),t}(l.a.Component);a(13);o.a.render(l.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.8a64a172.chunk.js.map